  {% extends "base.html" %}
  {% load url from future %}

  {% block title %}Home{% endblock %}

  {% block content %}
  <div class="row">
    <div class="span3">
      <div class="well sidebar-nav">
        <ul class="nav nav-list">  
          <li class="active"><a href="#">My Decks</a></li>
          {% for deck in decks %}
          <li><a href="/decks/?deck={{ deck.pk }}">{{ deck.name }}</a></li>
          {% endfor %}
        </ul>
      <form>
        <input type="text" name="new" placeholder="New Deck Name">
        <button class="btn" type="submit" >New Deck</button>
      </form>
      </div><!--/span-->
      <form>
        <input type="hidden" name="publish" value="1">
        <input type="hidden" name="deck" value={{deck.pk}}>
        <button class="btn" type="submit">Pubish</button>
      </form>
       <div class="well sidebar-nav"> 
        <ul class="nav nav-list">  
            <li class="nav-header">My Collection</li>
            {% if collection %}
            <form>
              <button class="btn" type="submit" name="collection_remove" value="1">Remove Card</button>
              {% for card in collection.cards.all %}
              <li><input type="radio" name="removeCardCollection" value="{{card.pk}}"><a href="{{card.get_absolute_url}}">{{ card.name }}</a></li>
              {% endfor %}
            </form>
            {% endif %}
        </ul>
      </div>
    </div><!--/.well -->

    <div class="span3">
      {% if deck %}
      <p>Editing {{deck.name}}</p>
      {% endif %}
      <form>
        <fieldset>
          {% if deck %}
          <input type="hidden" name="deck" value={{deck.pk}}>
          {% endif %}
          <input id="searchText" type="text" placeholder="Search Cards" name="query">
        </label>
        <button id="submitSearch" type="submit" class="btn">Search</button>
      </fieldset>
    </form>
    <ul style="list-style: none;">
      <form>
        {% if deck %}
        <input type="hidden" name="deck" value={{deck.pk}}>
        {% endif %}
        {% if results %}
        <p><input type="number" min="1" max="99" maxlength="2" name="multiplicity" placeholder="Multiplicity"></p>
        <p><button id="addCard" class="btn btn-primary" type="submit" name="addCardButton" value="deckAdd">Add Card to Deck</button></p>
        <p><button class="btn btn-primary" type="submit" name="addCardButton" value="collectionAdd">Add Card to Collection</button></p>
        <input type="hidden" name="collection" value={{collection.pk}}>  
        {% endif %}
        {% for card in results %}
        <input type="radio" name="addCard" value="{{card.object.pk}}"><a href="{{card.object.get_absolute_url}}">{{ card.object.name }}</a> <br>
        {% endfor %}
      </form>
    </div>
    <form>
      <input type="hidden" name="deck" value={{deck.pk}}>
      <div class="span1">
        {% if deck %}
        <p><button id="removeCard" class="btn btn-primary">Remove Card</button></p>  {%endif%}
      </div>
      <div class="span4">
        <div class="well sidebar-nav">
          <ul class="nav nav-list">  
            <li class="nav-header">Name of Deck</li>
            {% for card_count in deck.card_counts.all %}
            <li><input type="radio" name="removeCard" value="{{card_count.pk}}"><a href="{{card_count.card.get_absolute_url}}">{{ card_count.card.name }}</a> x {{ card_count.multiplicity }}</li>
            {% endfor %}
          </ul>
        </div><!--/.well -->
       </div><!--/span-->
     </form>
   </div>
 </div>
</div>

{% endblock %}
